const translations = {
    en: {
        // Header
        brand: "Telegram",
        upload: "Upload",
        searchPlaceholder: "Search videos...",
        
        // Categories
        categoryAll: "All",
        categoryMovies: "Movies",
        categorySeries: "Series",
        categoryTutorials: "Tutorials",
        categoryOther: "Other",
        
        // Video Card
        play: "Play",
        download: "Download",
        copyUrl: "URL",
        rename: "Rename",
        delete: "Delete",
        backedUp: "Backed up",
        backupFailed: "Backup failed",
        
        // Upload Modal
        uploadTitle: "Upload Video",
        dropVideos: "Drop your videos here",
        clickBrowse: "or click to browse (multiple files supported)",
        uploadQueue: "Upload Queue",
        waiting: "Waiting...",
        uploading: "Uploading",
        uploadComplete: "Upload complete!",
        
        // Player Modal
        videoPlayer: "Video Player",
        
        // Rename Modal
        renameTitle: "Rename Video",
        enterNewName: "Enter new name:",
        videoNamePlaceholder: "Video name",
        cancel: "Cancel",
        renameButton: "Rename",
        
        // Delete Modal
        deleteTitle: "Delete Video",
        areYouSure: "Are you sure?",
        deleteConfirm: "This will permanently delete",
        deleteConfirm2: "from your storage and Telegram backup.",
        deleteButton: "Delete",
        
        // Empty States
        noVideos: "No videos uploaded yet",
        noResults: "No results found",
        uploadFirst: "Upload your first video to get started",
        
        // Notifications
        notification: "Notification",
        uploadSuccess: "uploaded successfully!",
        uploadFailed: "Failed to upload",
        renameSuccess: "Video renamed successfully",
        renameFailed: "Failed to rename",
        deleteSuccess: "Video deleted successfully",
        deleteFailed: "Failed to delete",
        copySuccess: "Video URL copied to clipboard",
        copyFailed: "Failed to copy URL",
        downloadStarted: "Download started",
        syncingBackup: "Syncing backup...",
        backupSynced: "Backup synced successfully",
        selectValidFile: "Please select a valid video file",
        fileSizeLimit: "File size must be less than 2GB",
        networkError: "Network error",
        streamingError: "Failed to play video: Streaming error",
        playbackError: "Video failed to start playing",
        enterValidName: "Please enter a valid name"
    },
    
    es: {
        // Header
        brand: "Telegram",
        upload: "Subir",
        searchPlaceholder: "Buscar videos...",
        
        // Categories
        categoryAll: "Todos",
        categoryMovies: "Películas",
        categorySeries: "Series",
        categoryTutorials: "Tutoriales",
        categoryOther: "Otros",
        
        // Video Card
        play: "Reproducir",
        download: "Descargar",
        copyUrl: "URL",
        rename: "Renombrar",
        delete: "Eliminar",
        backedUp: "Respaldado",
        backupFailed: "Respaldo fallido",
        
        // Upload Modal
        uploadTitle: "Subir Video",
        dropVideos: "Arrastra tus videos aquí",
        clickBrowse: "o haz clic para explorar (múltiples archivos soportados)",
        uploadQueue: "Cola de Subida",
        waiting: "Esperando...",
        uploading: "Subiendo",
        uploadComplete: "¡Subida completa!",
        
        // Player Modal
        videoPlayer: "Reproductor de Video",
        
        // Rename Modal
        renameTitle: "Renombrar Video",
        enterNewName: "Ingresa el nuevo nombre:",
        videoNamePlaceholder: "Nombre del video",
        cancel: "Cancelar",
        renameButton: "Renombrar",
        
        // Delete Modal
        deleteTitle: "Eliminar Video",
        areYouSure: "¿Estás seguro?",
        deleteConfirm: "Esto eliminará permanentemente",
        deleteConfirm2: "de tu almacenamiento y respaldo de Telegram.",
        deleteButton: "Eliminar",
        
        // Empty States
        noVideos: "No hay videos subidos aún",
        noResults: "No se encontraron resultados",
        uploadFirst: "Sube tu primer video para comenzar",
        
        // Notifications
        notification: "Notificación",
        uploadSuccess: "¡subido exitosamente!",
        uploadFailed: "Error al subir",
        renameSuccess: "Video renombrado exitosamente",
        renameFailed: "Error al renombrar",
        deleteSuccess: "Video eliminado exitosamente",
        deleteFailed: "Error al eliminar",
        copySuccess: "URL del video copiada al portapapeles",
        copyFailed: "Error al copiar URL",
        downloadStarted: "Descarga iniciada",
        syncingBackup: "Sincronizando respaldo...",
        backupSynced: "Respaldo sincronizado exitosamente",
        selectValidFile: "Por favor selecciona un archivo de video válido",
        fileSizeLimit: "El tamaño del archivo debe ser menor a 2GB",
        networkError: "Error de red",
        streamingError: "Error al reproducir video: Error de transmisión",
        playbackError: "El video no pudo empezar a reproducirse",
        enterValidName: "Por favor ingresa un nombre válido"
    },
    
    fr: {
        // Header
        brand: "Telegram",
        upload: "Télécharger",
        searchPlaceholder: "Rechercher des vidéos...",
        
        // Categories
        categoryAll: "Tout",
        categoryMovies: "Films",
        categorySeries: "Séries",
        categoryTutorials: "Tutoriels",
        categoryOther: "Autres",
        
        // Video Card
        play: "Lire",
        download: "Télécharger",
        copyUrl: "URL",
        rename: "Renommer",
        delete: "Supprimer",
        backedUp: "Sauvegardé",
        backupFailed: "Échec de sauvegarde",
        
        // Upload Modal
        uploadTitle: "Télécharger Vidéo",
        dropVideos: "Déposez vos vidéos ici",
        clickBrowse: "ou cliquez pour parcourir (plusieurs fichiers supportés)",
        uploadQueue: "File d'attente",
        waiting: "En attente...",
        uploading: "Téléchargement",
        uploadComplete: "Téléchargement terminé!",
        
        // Player Modal
        videoPlayer: "Lecteur Vidéo",
        
        // Rename Modal
        renameTitle: "Renommer Vidéo",
        enterNewName: "Entrez le nouveau nom:",
        videoNamePlaceholder: "Nom de la vidéo",
        cancel: "Annuler",
        renameButton: "Renommer",
        
        // Delete Modal
        deleteTitle: "Supprimer Vidéo",
        areYouSure: "Êtes-vous sûr?",
        deleteConfirm: "Ceci supprimera définitivement",
        deleteConfirm2: "de votre stockage et sauvegarde Telegram.",
        deleteButton: "Supprimer",
        
        // Empty States
        noVideos: "Aucune vidéo téléchargée",
        noResults: "Aucun résultat trouvé",
        uploadFirst: "Téléchargez votre première vidéo pour commencer",
        
        // Notifications
        notification: "Notification",
        uploadSuccess: "téléchargé avec succès!",
        uploadFailed: "Échec du téléchargement",
        renameSuccess: "Vidéo renommée avec succès",
        renameFailed: "Échec du renommage",
        deleteSuccess: "Vidéo supprimée avec succès",
        deleteFailed: "Échec de la suppression",
        copySuccess: "URL de la vidéo copiée dans le presse-papiers",
        copyFailed: "Échec de la copie de l'URL",
        downloadStarted: "Téléchargement commencé",
        syncingBackup: "Synchronisation de la sauvegarde...",
        backupSynced: "Sauvegarde synchronisée avec succès",
        selectValidFile: "Veuillez sélectionner un fichier vidéo valide",
        fileSizeLimit: "La taille du fichier doit être inférieure à 2GB",
        networkError: "Erreur réseau",
        streamingError: "Échec de la lecture: Erreur de streaming",
        playbackError: "La vidéo n'a pas pu démarrer",
        enterValidName: "Veuillez entrer un nom valide"
    },
    
    zh: {
        // Header
        brand: "Telegram",
        upload: "上传",
        searchPlaceholder: "搜索视频...",
        
        // Categories
        categoryAll: "全部",
        categoryMovies: "电影",
        categorySeries: "连续剧",
        categoryTutorials: "教程",
        categoryOther: "其他",
        
        // Video Card
        play: "播放",
        download: "下载",
        copyUrl: "链接",
        rename: "重命名",
        delete: "删除",
        backedUp: "已备份",
        backupFailed: "备份失败",
        
        // Upload Modal
        uploadTitle: "上传视频",
        dropVideos: "将视频拖放到这里",
        clickBrowse: "或点击浏览（支持多个文件）",
        uploadQueue: "上传队列",
        waiting: "等待中...",
        uploading: "上传中",
        uploadComplete: "上传完成！",
        
        // Player Modal
        videoPlayer: "视频播放器",
        
        // Rename Modal
        renameTitle: "重命名视频",
        enterNewName: "输入新名称：",
        videoNamePlaceholder: "视频名称",
        cancel: "取消",
        renameButton: "重命名",
        
        // Delete Modal
        deleteTitle: "删除视频",
        areYouSure: "您确定吗？",
        deleteConfirm: "这将永久删除",
        deleteConfirm2: "从您的存储和Telegram备份中。",
        deleteButton: "删除",
        
        // Empty States
        noVideos: "还没有上传视频",
        noResults: "未找到结果",
        uploadFirst: "上传您的第一个视频开始",
        
        // Notifications
        notification: "通知",
        uploadSuccess: "上传成功！",
        uploadFailed: "上传失败",
        renameSuccess: "视频重命名成功",
        renameFailed: "重命名失败",
        deleteSuccess: "视频删除成功",
        deleteFailed: "删除失败",
        copySuccess: "视频链接已复制到剪贴板",
        copyFailed: "复制链接失败",
        downloadStarted: "下载已开始",
        syncingBackup: "正在同步备份...",
        backupSynced: "备份同步成功",
        selectValidFile: "请选择有效的视频文件",
        fileSizeLimit: "文件大小必须小于2GB",
        networkError: "网络错误",
        streamingError: "播放失败：流媒体错误",
        playbackError: "视频无法开始播放",
        enterValidName: "请输入有效名称"
    }
};

// Language Manager
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('preferredLanguage') || 'en';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        if (this.translations[lang]) {
            this.currentLang = lang;
            localStorage.setItem('preferredLanguage', lang);
            this.updateUI();
        }
    }
    
    get(key) {
        return this.translations[this.currentLang][key] || this.translations['en'][key] || key;
    }
    
    updateUI() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (element.placeholder !== undefined) {
                element.placeholder = this.get(key);
            } else {
                element.textContent = this.get(key);
            }
        });
        
        // Trigger app refresh if available
        if (window.app && window.app.renderVideos) {
            window.app.renderVideos();
        }
    }
}

// Create global language manager instance
window.lang = new LanguageManager();
